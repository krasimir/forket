(()=>{(function(){let S="__FORKET_SERVER_ACTIONS_ENDPOINT__",y=__ENABLE_LOGGIGN__?console.log.bind(console):()=>{},E=!1,N=new Map;y("\u{10090} v0.6.0");let L={class:"className",for:"htmlFor",readonly:"readOnly",tabindex:"tabIndex",maxlength:"maxLength",colspan:"colSpan",rowspan:"rowSpan"},R=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function P(){let i=document;typeof window.$FRSC>"u"&&(window.$FRSC=function(n){let t=n[0],e=n[1],o=d(n[2]),r=w(t);c(t,e,o,r)},typeof window.$FRSC_<"u"&&window.$FRSC_.length>0&&window.$FRSC_.forEach(window.$FRSC));function c(n,t,e,o){typeof window.$FRSC_renderers>"u"&&(window.$FRSC_renderers={}),window.$FRSC_renderers[n]=function(r){let s=window[t];if(!s){console.error(`\u{10090} Component "${t}" not found.`);return}let a={start:i.querySelector(`template[type="forket/start"]#${n}`),end:i.querySelector(`template[type="forket/end"]#${n}`)};if(!a.start||!a.end)return;let l=i.createElement("div");u(a.start,a.end,l),l.style.display="contents",a.end.parentNode.insertBefore(l,a.end),a.end.parentNode.removeChild(a.start),a.end.parentNode.removeChild(a.end),window.$FRSC_renderers[n]=function(C){C&&(e={...e,...C}),y("\u{10090} "+t+"("+n+")",{props:e,children:o}),m(l,React.createElement(s,e,o))},window.$FRSC_renderers[n](r)},window.$FRSC_renderers[n]()}function d(n){try{n=JSON.parse(n,function(t,e){if(t!=="children"){if(typeof e=="string"&&e.match(/^\$FSA_/)){let o=e.replace(/^\$FSA_/,"");return window.FSA_call(e,o)}else if(typeof e=="string"&&e.match(/^\$FLP_/))return new Promise((o,r)=>{let s=e.replace(/^\$FLP_/,"");typeof window.$FLP_>"u"&&(window.$FLP_={}),typeof window.$FLP_[s]>"u"?window.$FLP_[s]={status:"unknown",resolve:o,reject:r}:(window.$FLP_[s].resolve=o,window.$FLP_[s].reject=r),F()});return e}})}catch(t){console.warn("\u{10090} Error parsing props content:",t),n={}}return n}function w(n,t){let e=i.querySelector(`template[type="forket/children"]#${t}`);if(!e)return null;let o=e.innerHTML;return e?.parentNode?.removeChild(e),f(o)}function u(n,t,e){let o=n.nextSibling;for(;o&&o!==t;){let r=o.nextSibling;e.appendChild(o),o=r}}function f(n){let t=document.createElement("template");t.innerHTML=n;let e=[];return t.content.childNodes.forEach((o,r)=>{let s=h(o,`root.${r}`);Array.isArray(s)?e.push(...s):s!==null&&s!==""&&e.push(s)}),e}function p(n){return n.replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function _(n){let t={};return n.split(";").forEach(e=>{let[o,r]=e.split(":");if(!o||!r)return;let s=p(o.trim()),a=r.trim();!Number.isNaN(Number(a))&&a!==""&&(a=Number(a)),t[s]=a}),t}function $(n){let t={};for(let e of n.attributes){let o=e.name.toLowerCase(),r=L[o]||o;if(!/^on[a-z]+$/.test(r)){if(r==="style"){t.style=_(e.value||"");continue}if(R.has(o)){t[r]=e.value===""||e.value.toLowerCase()===o||e.value.toLowerCase()==="true";continue}t[r]=e.value}}return t}function h(n,t){switch(n.nodeType){case Node.ELEMENT_NODE:{let e=n.tagName.toLowerCase(),o={...$(n),key:t},r=[];return n.childNodes.forEach((s,a)=>{let l=h(s,`${t}.${a}`);l!==null&&l!==""&&r.push(l)}),r.length?React.createElement(e,o,...r):React.createElement(e,o)}case Node.TEXT_NODE:{let e=n.nodeValue;return e&&!/^\s+$/.test(e)?e:null}case Node.DOCUMENT_FRAGMENT_NODE:{let e=[];return n.childNodes.forEach((o,r)=>{let s=h(o,`${t}.${r}`);s!==null&&s!==""&&e.push(s)}),e.length?e:null}default:return null}}function m(n,t){let e=N.get(n);e?e.render(t):(e=ReactDOMClient.hydrateRoot(n,t),N.set(n,e))}}function F(i){if(E){if(typeof i>"u"&&typeof window.$FLP_<"u"){Object.keys(window.$FLP_).forEach(c=>{F(c)});return}if(typeof window.$FLP_<"u"&&window.$FLP_[i]){let c=window.$FLP_[i].value,d=window.$FLP_[i].status,w=window.$FLP_[i].resolve,u=window.$FLP_[i].reject,f=window.$FLP_[i].boundaryID;if(d==="resolved")w(c);else if(d==="rejected")u(new Error(c));else{console.warn(`\u{10090} FLP: Promise with id ${i} is in unknown state: ${d}.`);return}delete window.$FLP_[i],typeof window.$FRSC_renderers<"u"&&window.$FRSC_renderers[f]&&window.$FRSC_renderers[f]()}}}function O(){E=!0,F()}function T(i,c){return async function(...d){let w=d.length>0?d[0]:{};if(typeof FormData<"u"&&w instanceof FormData){let p=new FormData;p.set("__actionId",i);for(let[h,m]of w.entries())p.append(h,m);let _=await fetch(S+"/"+c,{method:"POST",body:p});if(!_.ok)throw new Error(`Server action ${i} failed with status ${_.status}`);let $=await _.json();if($.error)throw new Error($.error);return $.result}let u=await fetch(S+"/"+c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({__actionId:i,data:d})});if(!u.ok)throw new Error(`Server action ${i} failed with status ${u.status}`);return(await u.json()).result}}window.FSA_call=T,window.FLP_process=F,window.FSSR_done=O,P()})();})();
